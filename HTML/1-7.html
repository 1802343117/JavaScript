<!DOCTYPE html>
<html lang="en">
  <head>
    <title>云班课JavaScript 1-7</title>
    <!-- JavaScript核心对象 -->
    <script>
      /*-- String对象--*/
      //String对象定义
      var txt = new String("string");
      // 或者更简单方式：
      var txt = "string";
      //String对象方法
      var str = "Hello Nier";
      var a = str.toLowerCase(); // 把字符串转为小写
      var b = str.toUpperCase(); // 吧字符串转为大写
      var c = " Hello world ".trim(); //去掉字符串两边的空白
      document.write("这个是原版的：" + str + "<br>");
      document.write("这个是小写的：" + a + "<br>");
      document.write("这个是大写的：" + b + "<br>");
      document.write("这个是去掉字符串两头的空白：" + c + "<br>");
      var str = "Hello world, welcome to the w3cschool.";
      var n = str.indexOf("welcome"); // 13
      var c = str.indexOf("loen"); // -1
      var str = "Mr Blue has a blue house and a blue car and a blue hat";
      // 将字符串中首次出现的blue替换成red
      var n = str.replace("blue", "red");
      document.write(n + "<br>");
      // 用正则匹配字符串中所有出现的blue并替换成red
      var c = str.replace(/blue/g, "red");
      document.write(c);
      var str = "Hello world!";
      //提取指定位置的字符
      document.write(str.substring(3) + "<br>");
      //提取指定位置 之间 的字符
      document.write(str.substring(3, 7) + "<br>");
      /*-- Window对象--*/
      /**
      Window 对象表示浏览器中打开的窗口。
      如果文档包含框架（ 或 标签），浏览器会为 HTML 文档创建一个 window 对象，并为每个框架创建一个额外的 window 对象。
      注意： 没有应用于 window 对象的公开标准，不过所有浏览器都支持该对象。
      window 作为全局变量，代表了脚本正在运行的窗口，暴露给Javascript代码。
      */
      //查看窗口的 高度 和 宽度
      var winInnerHeight = window.innerHeight; //返回窗口的文档显示区的高度。
      var winInnerWidth = window.innerWidth; //返回窗口的文档显示区的宽度。
      document.write("窗口高度为：" + winInnerHeight + "<br>");
      document.write("窗口宽度为：" + winInnerWidth + "<br>");

      var winOuterWidth = window.outerWidth; // 返回窗口的外部宽度，包含工具条与滚动条。
      var winOuterHeight = window.outerHeight; // 返回窗口的外部高度，包含工具条与滚动条。

      var winScreenLeft = window.screenLeft; // 返回相对于屏幕窗口的x坐标
      var winScreenTop = window.screenTop; // 返回相对于屏幕窗口的y坐标
      /*--Window 对象方法--*/
      //alert() 就是window对象的方法, 调用window对象方法可以不需要指明window对象:
      alert("hello world"); // 等价于
      window.alert("hello world");

      function open_win() {
        window.open("http://www.baidu.com");
      }

      function openWin() {
        myWindow = window.open("", "", "width=200,height=100");
        myWindow.document.write("<p>这是'我的窗口'</p>");
        myWindow.focus();
      }
      //setTimeout() 方法用于在指定的毫秒数后调用函数或计算表达式。
      /**
      提示： 1000 毫秒 = 1 秒。
      提示： 如果你只想重复执行可以使用 setInterval() 方法。
      提示： 使用 clearTimeout() 方法来阻止函数的执行。
      */
      setTimeout(function() {
        alert("Hello");
      }, 3000);
      //实例:打开一个新窗口，3 秒后将该窗口关闭
      var myWindow = window.open("", "", "width=200, height=100");
      myWindow.document.write("<p>这是一个新窗口'</p>");
      setTimeout(function() {
        myWindow.close();
      }, 3000);
      //实例: 使用 clearTimeout() 来阻止函数的执行
      var myVar;
      function myFunction() {
        myVar = setTimeout(function() {
          alert("Hello");
        }, 3000);
      }
      function myStopFunction() {
        clearTimeout(myVar);
      }
      /*--JSON 实例--*/
      //以下 JSON 语法定义了 sites 对象: 3 条网站信息（对象）的数组:
      {
        sites: [
          { name: "baidu", url: "www.baidu.com" },
          { name: "Google", url: "www.google.com" },
          { name: "Taobao", url: "www.taobao.com" }
        ];
      }
      //JSON 格式在语法上与创建 JavaScript 对象代码是相同的。
      //由于它们很相似，所以 JavaScript 程序可以很容易的将 JSON 数据转换为 JavaScript 对象。
      /*
      ###JSON 语法规则
      数据为 键/值 对。
      数据由逗号分隔。
      大括号保存对象
      方括号保存数组
      */
      /*--JSON 数据--*/
      //JSON 数据格式为 键/值 对，就像 JavaScript 对象属性。
      //键/值对包括字段名称（在双引号中），后面一个冒号，然后是值：
      //   "name":"JavaScript"
      /*--JSON 对象--*/
      //JSON 对象保存在大括号内。
      //就像在 JavaScript 中, 对象可以保存多个 键/值 对：
      //   {name:"baidu", "url":"www.baidu.com"}
      /*--JSON 数组--*/
      //JSON 数组保存在中括号内。
      //就像在 JavaScript 中, 数组可以包含对象：
      {
        sites: [
          { name: "baidu", url: "www.baidu.com" },
          { name: "Google", url: "www.google.com" },
          { name: "Taobao", url: "www.taobao.com" }
        ];
      }
      //在以上实例中，对象 "sites" 是一个数组，包含了三个对象。每个对象为站点的信息（网站名和网站地址）。
      /*--JSON.parse() 方法--*/
      //JSON.parse() 方法用于将一个 JSON 字符串转换为对象。
      /*
      参数说明：
      text: 必需， 一个有效的 JSON 字符串。
      reviver: 可选，一个转换结果的函数， 将为对象的每个成员调用此函数。
      返回给定 JSON 字符串转换后的对象。
      */
      var text =
        '{"employees":[' +
        '{"name":"baidu","site":"http://www.baidu.com" },' +
        '{"name":"Google","site":"http://www.Google.com" },' +
        '{"name":"Taobao","site":"http://www.taobao.com" }]}';
      obj = JSON.parse(text);
      document.getElementById("demo").innerHTML =
        obj.employees[1].name + " " + obj.employees[1].site;
      //实例: 带 reviver 的案例
      JSON.parse('{"p": 5, "s": 1.5, "t": -3}', function(k, v) {
        if (k === "") return v; // 如果到了最顶层，则直接返回属性值，
        return v * 2; // 否则将属性值变为原来的 2 倍。
      }); // {"p": 10, "s": 3, "t": -6}
      //如果带 reviver 函数遍历属性的顺序是从内向外的。
      JSON.parse('{"1": 1, "2": 2,"3": {"4": 4, "5": {"6": 6}}}', function(
        k,
        v
      ) {
        console.log(k); // 输出当前的属性名，从而得知遍历顺序是从内向外的，
        // 最后一个属性名会是个空字符串。
        return v; // 返回原始属性值，相当于没有传递 reviver 参数。
      });
      /*--JSON.parse() 不允许用逗号作为结尾--*/
      // 以下均抛出动态错误
      JSON.parse("[1, 2, 3, 4, ]");
      JSON.parse('{"foo" : 1, }');
      /*--JSON.stringify() 方法--*/
      //JSON.stringify() 方法用于将 JavaScript 值转换为 JSON 字符串。
      var str = { name: "baidu", site: "http://www.baidu.com" };
      str_pretty1 = JSON.stringify(str);
      document.write("只有一个参数情况：");
      document.write("<br>");
      document.write("<pre>" + str_pretty1 + "</pre>");
      document.write("<br>");
      str_pretty2 = JSON.stringify(str, null, 4); //使用四个空格缩进
      document.write("使用参数情况：");
      document.write("<br>");
      document.write("<pre>" + str_pretty2 + "</pre>"); // pre 用于格式化输出
      /*--Math对象--*/
      //Math（算数）对象的作用是：执行普通的算数任务。
      //Math 对象提供多种算数值类型和函数。无需在使用这个对象之前对它进行定义。
      document.write(Math.PI); // -> 3.141592653589793
      //提示: Math 没有构造函数。没有必要先创建一个Math对象。
      /*--计算一个数字的平方根--*/
      var number = Math.sqrt(4);
      document.write(number); // -> 2

      var n = prompt("请输入一个数字:", "");
      var answer = Math.sqrt(n);
      alert("数字" + n + " 的平方根是: " + answer);
      /*--floor() 方法--*/
      //**Math.floor()** 返回小于或等于一个给定数字的最大整数。
      //**Math.floor()** 向下取整。
      Math.floor(45.95); // 45
      Math.floor(45.05); // 45
      Math.floor(4); // 4
      Math.floor(-45.05); // -46
      Math.floor(-45.95); // -46
      //Math.random() 返回介于 0（包含） ~ 1（不包含） 之间的一个随机数：
      Math.random();
      //实例, 返回 1 到 10 之间的一个随机数:
      Math.floor(Math.random() * 10 + 1);
      //**Math.round()** 返回一个数字四舍五入后最接近的整数。
      x = Math.round(20.49); //20
      x = Math.round(20.5); //21
      x = Math.round(-20.5); //-20
      x = Math.round(-20.51); //-21
      //注意，与很多其他语言中的round()函数不同，Math.round()并不总是舍入到远离0的方向（尤其是在负数的小数部分恰好等于0.5的情况下）。
      /*--时间对象--*/
      /*
        Date对象使用
        日期对象用于处理日期和时间。
        日期由 年，月，日，时，分，秒和毫秒组成。
        使用 new Date() , 将创建一个存储当前日期和时间的日期对象。
        */
      var d = new Date(); //d 存储了当前的日期和时间
      //初始化日期的其他方法允许从指定的日期和时间创建新的日期对象。
      new Date(milliseconds); // 毫秒
      new Date(dateString); // 日期字符串
      new Date(year, month, day, hours, minutes, seconds, milliseconds); //年，月，日， 时，分，秒和毫秒
      //提示: JavaScript日期以1970年01月01日00:00:00世界时（UTC）计算。一天包含 86400000 毫秒。
      //Fri Jan 02 1970 08:00:00 GMT+0800 (中国标准时间)
      var d1 = new Date(86400000);
      //Thu Oct 19 2017 15:56:00 GMT+0800 (中国标准时间)
      var d2 = new Date("October 19, 2017 15:56:00");
      //Sat Jun 11 1988 11:42:00 GMT+0800 (中国标准时间)
      var d3 = new Date(88, 5, 11, 11, 42, 0, 0);
      //提示: JavaScript计数从0到11的月份。1月是0，12月是11。
      //日期对象是静态的，而不是动态的。计算机时间正在往前走，但是日期对象一旦创建，日期就不会改变。
      //例子：
      var d = new Date();
      var hours = d.getHours(); //hours 等于当前的小时数值
    </script>
  </head>
  <body>
    <script type="text/javascript" src="../JS/1-7.js"></script>
  </body>
</html>
